# CloudTech Study

## 31.

### まず、「陽性」「陰性」って何？

機械学習の予測では、データを 「陽性（ポジティブ）」 か 「陰性（ネガティブ）」 のどちらかに分類することが多い。

例えば：

- 病気の検査

  - 陽性（ポジティブ）：病気がある
  - 陰性（ネガティブ）：病気がない

- 不正検出（クレジットカード詐欺）

  - 陽性（ポジティブ）：不正取引
  - 陰性（ネガティブ）：正常な取引

- 工場の不良品検査
  - 陽性（ポジティブ）：不良品
  - 陰性（ネガティブ）：正常品

つまり、「陽性＝問題がある」「陰性＝問題がない」というイメージ！

---

### 次に、「偽陽性」と「偽陰性」

機械学習の予測は 100% 正しいわけではない ので、間違えることもある。

| 予測             | 実際の状態             | これは何？                                  |
| ---------------- | ---------------------- | ------------------------------------------- |
| 陽性（病気あり） | 陽性（本当に病気あり） | ✅ 正解！（真の陽性, True Positive）        |
| 陽性（病気あり） | 陰性（本当は病気なし） | ❌ 間違い！（偽陽性, False Positive）       |
| 陰性（病気なし） | 陽性（本当は病気あり） | ❌ 最悪の間違い！（偽陰性, False Negative） |
| 陰性（病気なし） | 陰性（本当に病気なし） | ✅ 正解！（真の陰性, True Negative）        |

ここで 「偽陰性（False Negative）」が問題！  
つまり、「本当は病気なのに、検査では健康と出る」というパターン。  
このミスを減らしたい！

---

### 「高再現率」が大事な理由

「再現率（Recall）」は、「本当に陽性だったもののうち、どれだけ正しく陽性と予測できたか」の割合。

\[
\text{再現率} = \frac{\text{正しく陽性と判定した数}}{\text{本当の陽性の数}}
\]

✅ 高再現率 = 偽陰性（見逃し）が少ない！

例えば、がん検査 で考えてみよう。

- 再現率が低い（50%） → がん患者の半分を「健康」と判定（ヤバい！）
- 再現率が高い（95%） → ほとんどのがん患者をちゃんと見つける（安心！）

この問題では「陰性のコストが高い」と言ってるから、見逃し（偽陰性）を減らしたい！  
つまり、「高再現率のモデル」を選ぶべき。

---

### 「精度（Precision）」との違い

「精度（Precision）」は、「陽性と予測したもののうち、本当に陽性だった割合」。

\[
\text{精度} = \frac{\text{正しく陽性と判定した数}}{\text{陽性と予測した数}}
\]

📌 偽陽性を減らすのに役立つが、偽陰性は減らせない！  
📌 このケースでは偽陰性（False Negative）を減らしたいから、精度より再現率が重要！

---

### まとめ（超シンプル版）

1. 陽性 = 問題あり（病気、不正取引、不良品など）
2. 偽陰性（False Negative） = 本当は問題あるのに、問題なしと予測すること（最悪！）
3. 再現率（Recall）が高いと、偽陰性が少なくなる！
4. だから「高再現率」のモデルを選ぶのが正解！

### 「陰性予測のコストが高い」とは？

機械学習モデルが「陰性（問題なし）」と予測した場合、もしその予測が間違っていたら、大きな損失やリスクが発生する ということ。

言い換えると：

- 本当は陽性なのに「陰性」と判定してしまう（偽陰性）と、大きな問題になる！
- だから、「偽陰性（False Negative）をできるだけ減らすべき」 という意味。

---

### 具体例

#### 1. がん検診

- 陽性（がんあり） → がんの疑いがある人
- 陰性（がんなし） → 健康な人

👉 もし医師ががん患者を「健康」と誤診（偽陰性）したら？

- 患者は治療を受けられず、病気が悪化する。
- これは超大きな問題！（＝陰性予測のコストが高い）

📌 だから、「がん患者を見逃さない」ようにするために、再現率（Recall）を高くすることが重要。

---

#### 2. クレジットカードの不正検出

- 陽性（不正取引） → 詐欺の可能性が高い取引
- 陰性（正常取引） → 普通の買い物

👉 もし不正取引を「正常」と誤判定（偽陰性）したら？

- 銀行や顧客が大きな金銭的損害を受ける。
- これは大問題！（＝陰性予測のコストが高い）

📌 だから、「不正取引を見逃さない」ようにするために、再現率（Recall）を高くすることが重要。

---

### じゃあ「陽性予測のコスト」って何？

逆に、モデルが「陽性」と予測した場合のコストのこと。

たとえば：

- がん検診で「がん」と誤判定（偽陽性） → 健康な人が追加検査を受けることになるが、最悪の事態ではない。
- クレジットカードの不正検出で「不正」と誤判定（偽陽性） → 一時的にカードが止まるが、後で解除できる。

📌 偽陽性（False Positive）はコストがかかるけど、偽陰性ほど大問題ではない！
👉 だから、「偽陰性を減らすことを最優先する = 高再現率を重視する」ことが重要。

### 結論

「陰性予測のコストが高い」 ＝ 「本当は問題があるのに、問題なしと判定すると大きな損害が出る！」  
📌 だから、偽陰性を減らすために「高再現率」のモデルを選ぶのが正解！

## 35.

- Amazon Comprehend を使用して、チャット会話の感情を分析する
  - Amazon Comprehend は、自然言語処理（NLP）を使用して感情分析を実行するための完全マネージド型サービスです。
  - 感情分析機能は特に、迅速にテキストデータから感情（ポジティブ、ネガティブ、ニュートラル、ミックス）を抽出するのに最適です。
  - チャットデータのような非構造化テキストに対してすぐに利用可能で、モデルのトレーニングが不要であるため、最短時間で評価を完了できます。
- 「Amazon Rekognition を使用して、チャット会話の感情を分析する」は不正解です。
  - Amazon Rekognition は主に画像や動画の解析を目的としており、テキストデータの感情分析には対応していません。
- 「ナイーブベイズ分類器をトレーニングして、チャット会話の感情を分析する」は不正解です。
  - ナイーブベイズ分類器は感情分析に使用可能ですが、手動でモデルをトレーニングする必要があるため、Amazon Comprehend に比べて評価の完了に時間がかかります。
  - また、データの前処理やアルゴリズムの選定も必要となり、運用上の負担が大きくなります。
- 「ランダムフォレストを使用して、チャット会話の感情を分類する」は不正解です。
  - ランダムフォレストは感情分類に利用できますが、トレーニングデータの準備やモデルの調整が必要で、迅速な分析には適していません。
  - Amazon Comprehend のようなマネージド型サービスと比べて、構築に多くの時間と労力を要します
